<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript DOM 事件</title>
    <style type="text/css" media="all">
      body {
        margin: 0;
        font-family: "Helvetica Neue", Helvetica, Arial, "Hiragino Sans GB", sans-serif;
        font-size: 14px;
        line-height: 20px;
        color: #777;
        background-color: white;
      }
      .container {
        width: 700px;
        margin-right: auto;
        margin-left: auto;
      }

      .post {
        font-family: Georgia, "Times New Roman", Times, "SimSun", serif;
        position: relative;
        padding: 70px;
        bottom: 0;
        overflow-y: auto;
        font-size: 16px;
        font-weight: normal;
        line-height: 25px;
        color: #515151;
      }

      .post h1{
        font-size: 50px;
        font-weight: 500;
        line-height: 60px;
        margin-bottom: 40px;
        color: inherit;
      }

      .post p {
        margin: 0 0 35px 0;
      }

      .post img {
        border: 1px solid #D9D9D9;
      }

      .post a {
        color: #28A1C5;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="post">
        <h1 class="title">JavaScript DOM 事件</h1>
        <div class="show-content">
          <p>一般我们可以通过Javascript，在HTML文档元素中注册不同事件处理程序。</p><p>事件通常与函数结合使用，函数不会在事件发生前被执行！(如用户点击按钮)。</p><hr><h1><b>绑定事件处理函数</b></h1><p><b>1.ele.onxxx = function(event){}</b></p><p>兼容性很好，但一个元素的同一个事件上只能绑定一个事件处理函数。</p><p>基本等同于卸载HTML行间。</p><p>运行时环境this指向dom元素本身</p><p><b>2.ele.addEventListener(事件类型，处理函数fn，false);</b></p><p>可以为一个元素的同一个事件绑定多个处理函数</p><p>IE8及以下不兼容</p><p>运行时环境this指向dom元素本身</p><p><b>3.ele.attachEvent('on'+事件类型，处理函数fn)；</b></p><p>IE独有</p><p>也可以为同一个元素的同一个事件绑定多个处理函数；</p><p>与第二种绑定不同的是，这里绑定的函数可以重复。</p><p>运行时环境this指向window</p><p>注：上面说的事件类型是值无on的，如click，而不是onclick</p><hr><h1>解除事件处理函数</h1><p><b>1.ele.onxxx = false/""/null;</b></p><p><b>2.ele.removeEventListener(事件类型type,fn,false)</b></p><p><b>3.ele.detachEvent("on"+事件类型type，fn);</b></p><p><b>注意：若绑定的是匿名函数，则无法解除该元素所绑定的该事件处理函数</b></p><hr><h1>DOM 事件</h1><h4>1.鼠标事件</h4><p><b>onclick </b></p><p><b>点击</b></p><p><b>oncontextmenu </b></p><p><b>鼠标右键菜单</b></p><p><b>ondblclick </b></p><p><b>双击</b></p><p><b>onmousedown	</b></p><p><b>鼠标按下</b></p><p><b>onmouseenter 、onmouseover	</b></p><p><b>鼠标进入、覆盖元素时</b></p><p><b>onmouseleave 、onmouseout  </b></p><p><b>鼠标离开、移出元素时</b></p><p><b>onmousemove	</b></p><p><b>鼠标移动时</b></p><p><b>onmouseup	</b></p><p><b>鼠标按键被松开时</b></p><p><b>*用buttom来区分鼠标左右键和滚轮，0/1/2 对应左、滚轮、右键</b></p><p><b>*DOM3标准规定：click事件只能监听左键。所以通过mouserdown和mouserup来判断鼠标键左右滚。</b></p><h4><b>2.键盘事件</b></h4><p><b>onkeydown	</b></p><p><b>某个键盘按键被按下<br></b></p><p><b>onkeypress	</b></p><p><b>某个键盘按键被按下并松开</b></p><p><b>onkeyup	</b></p><p><b>某个键盘按键被松开</b></p><p><b>keydown和keypress的区别：</b></p><p>(1)事件触发先后顺序，先keydown再keypress再keyup</p><p>(2)keydown可以响应任意按键；keypress可以响应字符类按键</p><p>(3)keyPress返回ASCII码，可以从charcode属性，转换成相应字符。</p><h4>3.框架/对象（Frame/Object）事件<br>
</h4><p><b>onabort	</b></p><p><b>图像的加载被中断时<br></b></p><p><b>onbeforeunload	</b></p><p><b>当即将离开页面（刷新或关闭）时</b></p><p><b>onerror	</b></p><p><b>在加载文档或图像发生错误时</b></p><p><b>onhashchange	</b></p><p><b>当前 URL 的锚部分发生修改时触发</b></p><p><b>onload	</b></p><p><b>当一张页面或一幅图像完成加载时</b></p><p><b>onpageshow	</b></p><p><b>在用户访问页面时、	 </b></p><p><b>onpagehide </b></p><p><b>在用户离开当前网页跳转到另外一个页面时</b></p><p><b>onresize	</b></p><p><b>窗口或框架被重新调整大小时</b></p><p><b>onscroll	</b></p><p><b>当文档被滚动时</b></p><p><b>onunload	</b></p><p><b>用户退出页面</b></p><h4><b>4.表单事件</b></h4><p><b>onblur	</b></p><p><b>元素失去焦点时</b></p><p><b>onchange	</b></p><p><b>该事件在表单元素的内容改变时( &lt;input&gt;, &lt;keygen&gt;, &lt;select&gt;, 和 &lt;textarea&gt;) </b></p><p><b>onfocus	</b></p><p><b>元素获取焦点时</b></p><p><b>onfocusin	</b></p><p><b>元素即将获取焦点时触发 </b></p><p><b>onfocusout	</b></p><p><b>元素即将失去焦点时触发 </b></p><p><b>oninput	</b></p><p><b>元素获取用户输入时</b></p><p><b>onreset	</b></p><p><b>表单重置时</b></p><p><b>onsearch	</b></p><p><b>用户向搜索域输入文本时 (&lt;input="search"&gt;)	 </b></p><p><b>onselect	</b></p><p><b>用户选取文本时 ( &lt;input&gt; 和 &lt;textarea&gt;) </b></p><p><b>onsubmit	</b></p><p><b>表单提交时</b></p><h4><b>5.剪贴板事件<br></b></h4><p><b>oncopy	</b></p><p><b>当用户拷贝元素内容时<br></b></p><p><b>oncut	</b></p><p><b>在用户剪切元素内容时</b></p><p><b>onpaste	</b></p><p><b>该事件在用户粘贴元素内容时</b></p><h4><b>6.打印事件</b></h4><p>onafterprint </p><p>在页面已经开始打印，或者打印窗口已经关闭时</p><p>onbeforeprint </p><p>在页面即将开始打印时</p><h4>7.拖动事件</h4><p><b>ondrag </b></p><p><b>当元素正在拖动时触<br></b></p><p><b>ondragend	</b></p><p><b>当用户完成拖动时</b></p><p><b>ondragenter </b></p><p><b>拖动元素进入放置目标时</b></p><p><b>ondragleave </b></p><p><b>拖动元素离开放置目标时</b></p><p><b>ondragover </b></p><p><b>拖动结束时</b></p><p><b>ondragstart	</b></p><p><b>开始拖动时</b></p><p><b>ondrop	</b></p><p><b>当拖动元素放置在目标区域时</b></p><p><b>8.多媒体（Media）事件<br></b></p><p><b>onabort </b></p><p><b>视频/音频（audio/video）终止加载时<br></b></p><p><b>oncanplay	</b></p><p><b>当开始播放视频/音频（audio/video）时</b></p><p><b>oncanplaythrough </b></p><p><b>视频/音频（audio/video）可以正常播放且无需停顿和缓冲时</b></p><p><b>ondurationchange </b></p><p><b>视频/音频（audio/video）的时长发生变化时</b></p><p><b>onemptied	</b></p><p><b>当期播放列表为空时</b></p><p><b>onended	</b></p><p><b>视频/音频（audio/video）播放结束时</b></p><p><b>onerror </b></p><p><b>视频/音频（audio/video）数据加载期间发生错误时</b></p><p><b>onloadeddata </b></p><p><b>浏览器加载视频/音频（audio/video）当前帧时</b></p><p><b>onloadedmetadata </b></p><p><b>在指定视频/音频（audio/video）的元数据加载后触发</b></p><p><b>onloadstart </b></p><p><b>浏览器开始寻找指定视频/音频（audio/video）时</b></p><p><b>onpause </b></p><p><b>视频/音频（audio/video）暂停时触发</b></p><p><b>onplay </b></p><p><b>视频/音频（audio/video）开始播放时</b></p><p><b>onplaying	</b></p><p><b>视频/音频（audio/video）暂停或者在缓冲后准备重新开始播放时</b></p><p><b>onprogress	</b></p><p><b>浏览器下载指定的视频/音频（audio/video）时</b></p><p><b>onratechange </b></p><p><b>视频/音频（audio/video）的播放速度发送改变时</b></p><p><b>onseeked	</b></p><p><b>重新定位视频/音频（audio/video）的播放位置后触发</b></p><p><b>onseeking </b></p><p><b>开始重新定位视频/音频（audio/video）时触发</b></p><p><b>onstalled </b></p><p><b>浏览器获取媒体数据，但媒体数据不可用时</b></p><p><b>onsuspend </b></p><p><b>浏览器读取媒体数据中止时</b></p><p><b>ontimeupdate </b></p><p><b>当前的播放位置改变时</b></p><p><b>onvolumechange	</b></p><p><b>音量发生改变时</b></p><p><b>onwaiting </b></p><p><b>当视频由于要播放下一帧而需要缓冲时</b></p><h4><b>8.动画事件<br></b></h4><p><b>animationstart </b></p><p><b>当 CSS 动画开始播放时<br></b></p><p><b>animationiteration	</b></p><p><b>当 CSS 动画重复播放时<br></b></p><p><b>animationend </b></p><p><b>当 CSS 动画结束播放时<br></b></p><h4><b>9.过渡事件<br></b></h4><p><b>transitionend </b></p><p><b>当 CSS 完成过渡后<br></b></p><h4><b>10.其他事件</b></h4><p>onmessage</p><p>通过或者从对象(WebSocket, Web Worker, Event Source 或者子 frame 或父窗口)接收到消息时触发</p><p>ononline </p><p>浏览器开始在线工作时  </p><p>onoffline </p><p>浏览器开始离线工作时</p><p>onpopstate </p><p>窗口的浏览历史（history 对象）发生改变时</p><p>onshow </p><p>当 &lt;menu&gt; 元素在上下文菜单显示时</p><p>onstorage	该</p><p>在 Web Storage(HTML 5 Web 存储)更新时</p><p>ontoggle </p><p>在用户打开或关闭 &lt;details&gt; 元素时</p><p>onwheel </p><p>在鼠标滚轮在元素上下滚动时</p><hr><h1>事件对象</h1><p><b>常量（静态变量）</b></p><p>CAPTURING-PHASE</p><p>当前事件阶段为捕获阶段(3)</p><p>AT-TARGET</p><p>当前事件是目标阶段,在评估目标事件(1)</p><p>BUBBLING-PHASE</p><p>当前的事件为冒泡阶段 (2)</p><p><b>属性</b></p><p><b>bubbles	</b></p><p><b>返回布尔值，指示事件是否是起泡事件类型<br></b></p><p>cancelable</p><p>返回布尔值，指示事件是否可拥可取消的默认动作</p><p>currentTarget</p><p>返回其事件监听器触发该事件的元素</p><p>eventPhase</p><p>返回事件传播的当前阶段</p><p>target</p><p>返回触发此事件的元素（事件的目标节点）</p><p>timeStamp</p><p>返回事件生成的日期和时间</p><p>type</p><p>返回当前 Event 对象表示的事件的名称</p><p><b>方法</b></p><p><b>initEvent()	</b></p><p><b>初始化新创建的 Event 对象的属性<br></b></p><p><b>preventDefault()	</b></p><p><b>通知浏览器不要执行与事件关联的默认动作</b></p><p><b>stopPropagation()	</b></p><p><b>不再派发事件</b></p><hr><h1>目标事件对象<br>
</h1><p>方法</p><p>addEventListener()</p><p>允许在目标事件中注册监听事件(IE8= attachEvent())</p><p>dispatchEvent()</p><p>允许发送事件到监听器上 (IE8 =fireEvent()) </p><p>removeEventListener()</p><p>运行一次注册在事件目标上的监听事件(IE8 =detachEvent())</p><hr><h1>事件监听对象</h1><p>方法</p><p>handleEvent()</p><p>把任意对象注册为事件处理程序</p><hr><h1>文档事件对象</h1><p>方法</p><p>createEvent()</p><hr><h1><b>鼠标/键盘事件对象</b></h1><p><b>属性：</b></p><p><b>altKey	返回当事件被触发时，"ALT" 是否被按下<br></b></p><p><b>button	返回当事件被触发时，哪个鼠标按钮被点击</b></p><p><b>clientX	返回当事件被触发时，鼠标指针的水平坐标</b></p><p><b>clientY	返回当事件被触发时，鼠标指针的垂直坐标</b></p><p><b>ctrlKey	返回当事件被触发时，"CTRL" 键是否被按下</b></p><p><b>Location	返回按键在设备上的位置 </b></p><p><b>charCode	返回onkeypress事件触发键值的字母代</b></p><p><b>key	在按下按键时返回按键的标识符</b></p><p><b>keyCode	返回onkeypress事件触发的键的值的字符代码，或者 onkeydown 或 onkeyup 事件的键的代码。</b></p><p><b>which	返回onkeypress事件触发的键的值的字符代码，或者 onkeydown 或 onkeyup 事件的键的代码。</b></p><p><b>metaKey	返回当事件被触发时，"meta" 键是否被按下。</b></p><p><b>relatedTarget	返回与事件的目标节点相关的节点。 </b></p><p><b>screenX	返回当某个事件被触发时，鼠标指针的水平坐标。 </b></p><p><b>screenY	返回当某个事件被触发时，鼠标指针的垂直坐标。 </b></p><p><b>shiftKey	返回当事件被触发时，"SHIFT" 键是否被按下。 </b></p><p><b>方法<br></b></p><p><b>initMouseEvent()	初始化鼠标事件对象的值 <br></b></p><p><b>initKeyboardEvent()	初始化键盘事件对象的值</b></p>
        </div>
      </div>
    </div>
  </body>
</html>
